library(blockCV)
citation("blockCV")
?bibentry
library(blockCV)
library(blockCV)
library(blockCV)
devtools::release()
devtools::release(pkg = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV")
devtools::release(pkg = "blockCV")
devtools::release(pkg = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.0.tar.gz")
devtools::release(pkg = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.0.tgz")
devtools::release(pkg = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV")
update.packages("devtools")
library(blockCV)
pkg <- devtools::as.package(create = TRUE)
pkg <- devtools::as.package(x = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV", create = TRUE)
devtools::release(pkg = pkg)
devtools::build_win()
library(devtools)
pkg <- as.package(x = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.0.tar.gz")
pkg <- as.package(x = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.0.tar.gz", create = TRUE)
pkg <- as.package(x = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.0.tar", create = TRUE)
pkg <- as.package(x = "/Users/rvalavi/Dropbox/My PhD thesis/My package", create = TRUE)
pkg <- as.package(x = "/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV", create = TRUE)
build_win(pkg = ".")
build_win(pkg = pkg)
citation("biomod2")
citation("maxney")
citation("maxnet")
citation("glmnet")
library(blockCV)
install.packages(c("backports", "bigreadr", "callr", "classInt", "covr", "curl", "data.table", "devtools", "digest", "DT", "effects", "feather", "fields", "gdtools", "ggimage", "gstat", "htmlTable", "htmltools", "htmlwidgets", "huxtable", "jpeg", "keras", "KernSmooth", "knitr", "later", "lintr", "maptools", "mgcv", "microbenchmark", "miscTools", "ncdf4", "ncmeta", "pkgbuild", "plotmo", "pls", "polspline", "pool", "promises", "purrr", "qvcalc", "R.rsp", "RcppArmadillo", "rgdal", "rgeos", "rlang", "rmarkdown", "RNetCDF", "rvcheck", "shiny", "slam", "spam", "sparklyr", "spatstat", "spData", "spdep", "stars", "stringdist", "strucchange", "tensorflow", "tinytex", "tmap", "units", "vtreat", "wrapr", "xfun"))
install.packages(c("mgcv", "slam", "spam", "stringdist"))
library(roxygen2)
devtools::install_github("r-lib/roxygen2")
detach("package:roxygen2", unload = TRUE)
devtools::document()
source('~/Dropbox/My PhD thesis/My package/blockCV/R/explorer.R')
library(blockCV)
library(blockCV)
library(blockCV)
library(â€˜pandoc)
library(blockCV)
library(blockCV)
library(blockCV)
library(blockCV)
library(blockCV)
install.packages("spatialreg")
?spatialreg::predict.sarlm
.libPaths()
library(blockCV)
install.packages("~/Dropbox/My PhD thesis/My package/blockCV_2.0.0.tar.gz", repos = NULL, type = "source")
browseVignettes(package = "blockCV")
?spatialBlock
library(blockCV)
library(covr)
tmp <- Sys.time()
cov1 <- covr::package_coverage(function_exclusions = c("foldExplorer", "rangeExplorer"))
Sys.time() - tmp
rm(tmp)
library(blockCV)
install.packages("rhub")
rhub::check(platform = "MacOS")
rhub::check(platform = "macOS")
rhub::platforms()
rhub::check(platform = "debian-gcc-devel")
library(covr)
tmp <- Sys.time()
cov1 <- covr::package_coverage(function_exclusions = c("foldExplorer", "rangeExplorer"))
Sys.time() - tmp
rm(tmp)
# print the coverage
cov1
# visualise the code coverage
report(cov1)
rm(cov1)
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
# import presence-absence species data
PA <- read.csv(system.file("extdata", "PA.csv", package = "blockCV"))
# make a sf object from data.frame
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = raster::crs(awt))
sb4 <- spatialBlock(speciesData = pa_data,
species = "response", # wrong response
rasterLayer = awt,
maskBySpecies = FALSE,
theRange = 70000,
k = 5)
tmp <- Sys.time()
cov1 <- covr::package_coverage(function_exclusions = c("foldExplorer", "rangeExplorer"))
Sys.time() - tmp
rm(tmp)
# print the coverage
cov1
tmp <- Sys.time()
cov1 <- covr::package_coverage(function_exclusions = c("foldExplorer", "rangeExplorer"))
Sys.time() - tmp
rm(tmp)
# print the coverage
cov1
rhub::check_for_cran()
install.packages("/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.1.tar.gz", repos = NULL, type = "source")
library(blockCV)
?blockCV
library(blockCV)
install.packages("/Users/rvalavi/Dropbox/My PhD thesis/My package/blockCV_2.0.1.tar.gz", repos = NULL, type = "source")
library(blockCV)
?blockCV
browseVignettes('blockCV')
rhub::check_for_cran()
tmp <- Sys.time()
cov1 <- covr::package_coverage(function_exclusions = c("foldExplorer", "rangeExplorer"))
Sys.time() - tmp
rm(tmp)
tmp <- Sys.time()
cov1 <- covr::package_coverage(function_exclusions = c("foldExplorer", "rangeExplorer"))
Sys.time() - tmp
rm(tmp)
# print the coverage
cov1
rhub::platforms()
library(rhub)
rhub::check(platform = "windows-x86_64-release")
rhub::check(platform = "debian-gcc-release")
library(blockCV)
library(blockCV)
library(blockCV)
?blockCV::spatialAutoRange
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
range1 <- spatialAutoRange(rasterLayer = awt,
sampleNumber = 5000, # number of cells to be used
doParallel = TRUE,
nCores = 2, # if NULL, it uses half of the CPU cores
plotVariograms = FALSE,
showPlots = TRUE)
range1
range1
plot(range1$variograms[[1]])
library(automap)
plot(range1$variograms[[1]])
library(blockCV)
stats::complete.cases()
utils::install.packages()
library(blockCV)
library(blockCV)
library(blockCV)
library(blockCV)
library(blockCV)
library(blockCV)
requireNamespace("foo", quietly = TRUE)
!requireNamespace("foo", quietly = TRUE)
library(blockCV)
library(blockCV)
sp::CRS("+init=epsg:4326")
sf::st_crs(4326)
library(blockCV)
library(blockCV)
library(rhub)
platforms()
rhub::check(platform = "debian-gcc-release")
library(blockCV)
?blockCV
library(blockCV)
?blockCV
rhub::platforms()
rhub::check(platform = "ubuntu-gcc-release")
rhub::check(platform = "debian-gcc-release")
library(blockCV)
rhub::check(platform = "debian-gcc-release")
raster::projectRaster
isLonLat
raster::isLonLat()
raster::isLonLat(r)
raster::isLonLat(raster())
raster::isLonLat(raster::raster())
library(blockCV)
library(blockCV)
library(blockCV)
?spatialAutoRange
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
# import presence-absence species data
PA <- read.csv(system.file("extdata", "PA.csv", package = "blockCV"))
# make a sf object from data.frame
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = raster::crs(awt))
raster::isLonLat(pa_data)
pa_data
raster::isLonLat(awt)
awt
library(blockCV)
library(blockCV)
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
awt_wgs <- raster::projectRaster(awt, crs = "+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
awt_wgs
plot(awt_wgs[[1]])
raster::plot(awt_wgs[[1]])
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
expect_warning(awt_wgs <- raster::projectRaster(awt, crs = "+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
awt_wgs <- raster::projectRaster(awt, crs = "+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
raster::projection(awt_wgs) <- NA
awt_wgs
net <- blockCV:::rasterNet(x = awt_wgs, resolution = 70000, mask = TRUE)
plot(net)
library(blockCV)
rhub::check(platform = "debian-gcc-release")
rhub::check(platform = "debian-gcc-release")
library(blockCV)
context("external helper functions fully")
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
PA <- read.csv(system.file("extdata", "PA.csv", package = "blockCV"))
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = crs(awt))
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = raster::projection(awt))
suppressWarnings(awt_wgs <- raster::projectRaster(from = awt, crs = "+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
raster::projection(awt_wgs) <- NA
expect_warning(
net <- blockCV:::rasterNet(x = awt_wgs, resolution = 70000, mask = TRUE)
)
net <- blockCV:::rasterNet(x = awt_wgs, resolution = 70000, mask = TRUE)
net
net <- blockCV:::rasterNet(x = pa_data, resolution = 70000, mask = TRUE)
net
blockCV:::rasterNet(x = awt, mask = TRUE)
blockCV:::rasterNet(x = pa_data, xOffset = 3)
blockCV:::rasterNet(x = pa_data, yOffset = 3)
library(blockCV)
rhub::check(platform = "debian-gcc-release")
library(blockCV)
rhub::check(platform = "debian-gcc-release")
rhub::check(platform = "debian-gcc-release")
rhub::check(platform = "debian-gcc-release")
rhub::platforms()
rhub::check(platform = "windows-x86_64-release")
context
library(blockCV)
interactive()
install.packages(c("cowplot", "ggplot2"))
install.packages(c("cowplot", "ggplot2"))
library(blockCV)
library(blockCV)
library(blockCV)
browseVignettes("blockCV")
library(blockCV)
?spatialBlock
# load package data
library(sf)
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
# import presence-absence species data
PA <- read.csv(system.file("extdata", "PA.csv", package = "blockCV"))
# make a sf object from data.frame
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = raster::crs(awt))
pa_data
species = "Species"
pa_data[,species]
pa_data[,species, drop = TRUE]
pa_data[,species, drop = TRUE] %>% class()
pa_data[,species, drop = TRUE] %>% length()
df <- data.frame(aa = pa_data[,species, drop = TRUE])
df
library(blockCV)
library(blockCV)
?spatialBlock
library(blockCV)
library(blockCV)
?spatialBlock
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
# import presence-absence species data
PA <- read.csv(system.file("extdata", "PA.csv", package = "blockCV"))
# make a sf object from data.frame
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = raster::crs(awt))
# spatial blocking by specified range and random assignment
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL,
biomod2Format = TRUE,
xOffset = 0.3, # shift the blocks horizontally
yOffset = 0)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt,
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
# spatial blocking by specified range and random assignment
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
warning()
# spatial blocking by specified range and random assignment
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
# spatial blocking by specified range and random assignment
set.seed(42)
# spatial blocking by specified range and random assignment
set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
# spatial blocking by specified range and random assignment
set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt,
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
set.seed(42)
set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
numLimit = NULL)
set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
library(blockCV)
library(sf)
awt <- raster::brick(system.file("extdata", "awt.grd", package = "blockCV"))
# import presence-absence species data
PA <- read.csv(system.file("extdata", "PA.csv", package = "blockCV"))
# make a sf object from data.frame
pa_data <- sf::st_as_sf(PA, coords = c("x", "y"), crs = raster::crs(awt))
# spatial blocking by specified range and random assignment
set.seed(42)
# spatial blocking by specified range and random assignment
# set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 42)
# spatial blocking by specified range and random assignment
# set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 42)
# set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds",
seed = 42)
# set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
# set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds")
# spatial blocking by specified range and random assignment
# set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1)
# spatial blocking by specified range and random assignment
# set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1)
# spatial blocking by specified range and random assignment
# set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 32)
# spatial blocking by specified range and random assignment
# set.seed(42)
sb1 <- spatialBlock(speciesData = pa_data,
species = "Species",
theRange = 70000,
k = 5,
selection = "random",
iteration = 1,
seed = 32)
# set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds",
seed = 42)
# set.seed(42)
sb2 <- spatialBlock(speciesData = pa_data,
species = "Species",
rasterLayer = awt, # it doesn't matter if you supply the raster or not
selection = "predefined",
blocks = sb1$blocks,
foldsCol = "folds",
seed = 32)
apply(sb2$records, 1, sum)
apply(sb2$records, 2, sum)
138 + 116
sb2$foldID
library(blockCV)
library(blockCV)
library(blockCV)
